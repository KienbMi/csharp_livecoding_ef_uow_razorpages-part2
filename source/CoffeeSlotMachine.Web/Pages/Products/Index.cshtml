@page
@model CoffeeSlotMachine.Web.Pages.Products.IndexModel
@{
  ViewData["Title"] = "All Products";
}

<p>
  <a asp-page="./Create">Add new Product</a>
</p>


<form method="get">
  <div class="form-actions no-color">
    <p>
      Find by name:
      <input type="text" name="SearchString" value="@Model.ProductFilter" />
      <input type="submit" value="Search" class="btn btn-default" /> |
      <a asp-page="./Index">Back to full List</a>
    </p>
  </div>
</form>


<table class="table">

  <thead>
    <tr>

      <th>
        @Html.DisplayNameFor(model => model.Products.FirstOrDefault().Name)
      </th>

      <th>
        @Html.DisplayNameFor(model => model.Products.FirstOrDefault().PriceInCents)
      </th>

      <th>
        @Html.DisplayNameFor(model => model.Products.FirstOrDefault().RowVersion)
      </th>

      <th>
        Aktionen
      </th>

    </tr>
  </thead>

  <tbody>

    @foreach (var product in Model.Products)
    {

      <tr>
        <td>
          @Html.DisplayFor(model => product.Name)
        </td>

        <td>
          @Html.DisplayFor(model => product.PriceInCents)
        </td>

        <td>
          @Html.DisplayFor(model => product.RowVersion)
        </td>

        <td>
          <a asp-page="./Edit" asp-route-id="@product.Id">Edit</a> |
          <a asp-page="./Details" asp-route-id="@product.Id">Details</a> |
          <a asp-page="./Delete" asp-route-id="@product.Id">Delete</a>
        </td>

      </tr>

    }

  </tbody>

</table>

